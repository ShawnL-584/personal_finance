import numpy as np
import cv2
import dlib
import urllib.request


# url = r'data:image/jpeg;base64,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'
# a = urllib.request.urlopen(url)
#
# print(type(a))
# print(dir(a))


from PIL import Image, ImageDraw, ImageFont
with Image.open(r"./照片/14-林士翔.jpg").convert("RGBA") as base:

    img = np.array(base)
    print(img.ndim, img.shape, img.dtype)
    img = img[300:1900, 900:2000, :]
    img = Image.fromarray(img)
    txt = Image.new("RGBA", img.size,(255,255,255,0))
    font_path = r"NotoSansTC-Light.ttf"  # 示例路径，请根据你的系统调整
    font = ImageFont.truetype(font_path, 100)  # 字体大小为100
    d = ImageDraw.Draw(txt)
    d.text((100,100),'04_林士翔',font= font, fill = (255,255,255,255))
    out = Image.alpha_composite(img,txt)
    out.show()
